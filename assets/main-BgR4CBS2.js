(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=e(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",function(){let l=0;function n(s){l+=s,e(l)}function e(s){let t=document.getElementsByClassName("my-slides");s>=t.length&&(l=0),s<0&&(l=t.length-1);for(let o=0;o<t.length;o++)t[o].style.display="none";t[l].style.display="block"}e(l),document.querySelector(".display-left").addEventListener("click",function(){n(-1)}),document.querySelector(".display-right").addEventListener("click",function(){n(1)})});document.addEventListener("DOMContentLoaded",function(){const e=L.map("map").setView([43.5075,16.4086],15);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(e),L.marker([43.5075,16.4086]).addTo(e).bindPopup("<b>Prythian Real Estate</b><br>82 Šetalište Ivana Meštrovića, Split").openPopup()});document.addEventListener("DOMContentLoaded",()=>{let l=[],n=[],e=1,s=5;const t=10;fetch("/prythian-real-estate/src/data/properties.json").then(i=>i.json()).then(i=>{l=i.houses,n=l,o(e),u()}).catch(i=>console.error("Error loading properties:",i)),document.querySelector("input[type='search']").addEventListener("input",i=>{y(i.target.value)}),document.getElementById("apply-filters").addEventListener("click",()=>{g()}),document.getElementById("show-more").addEventListener("click",()=>{s=Math.min(s+5,10),o(e)});function o(i){const c=document.getElementById("properties-container");c.innerHTML="";let d=(i-1)*t,p=d+t,m=n.slice(d,p);m.slice(0,s).forEach(a=>{const f=document.createElement("div");f.classList.add("property-card"),f.innerHTML=`
        <img src="${a.image}" alt="Property Image" class="property-image"/>
        <div class="property-info">
          <h3>${a.location}</h3>
          <p><b>Size</b> &#128900; ${a.size} m²</p>
          <p><b>Price</b> &#128900; ${a.price.toLocaleString()} €</p>
          <p><b>Amenities</b> &#128900; ${a.amenities.join(", ")}</p>
        </div>
      `,c.appendChild(f)}),s<m.length?document.getElementById("show-more").style.display="block":document.getElementById("show-more").style.display="none"}function u(){const i=document.getElementById("pagination-controls");i.innerHTML="";const c=Math.ceil(n.length/t),d=document.createElement("button");d.textContent="Prev",d.disabled=e===1,d.onclick=()=>{e>1&&(e--,s=5,o(e),u())};const p=document.createElement("button");p.textContent="Next",p.disabled=e===c,p.onclick=()=>{e<c&&(e++,s=5,o(e),u())},i.appendChild(d);for(let m=1;m<=c;m++){const r=document.createElement("button");r.textContent=m,r.classList.add("page-button"),m===e&&r.classList.add("active"),r.onclick=()=>{e=m,s=5,o(e),u()},i.appendChild(r)}i.appendChild(p)}function g(){n=[...l];const i=document.getElementById("size").value,c=document.getElementById("price").value,d=document.getElementById("location").value,p=document.getElementById("amenities").value.toLowerCase(),m=document.getElementById("sort").value;if(i&&(n=n.filter(r=>parseInt(r.size)>=parseInt(i))),c&&(n=n.filter(r=>r.price<=parseInt(c))),d&&(n=n.filter(r=>r.location===d)),p){const r=p.split(",").map(a=>a.trim());n=n.filter(a=>r.every(f=>a.amenities.map(h=>h.toLowerCase()).includes(f)))}m==="asc"?n.sort((r,a)=>r.price-a.price):m==="desc"&&n.sort((r,a)=>a.price-r.price),e=1,o(e),u()}function y(i){n=l.filter(c=>c.location.toLowerCase().includes(i.toLowerCase())||c.size.toString().includes(i)||c.price.toString().includes(i)||c.amenities.some(d=>d.toLowerCase().includes(i.toLowerCase()))),e=1,o(e),u()}});
